
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/03_diagnostics/plot_profiles.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_03_diagnostics_plot_profiles.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_03_diagnostics_plot_profiles.py:


Plot Profiles
=============

This example demonstrates how to plot profiles of 
RMSE, bias, and totalspread. For an explanation of the statistics calculations see
the :ref:`statistics` guide.

.. GENERATED FROM PYTHON SOURCE LINES 11-13

Import the obs_sequence module
and the matplots module for plotting.

.. GENERATED FROM PYTHON SOURCE LINES 13-16

.. code-block:: Python

    import pydartdiags.obs_sequence.obs_sequence as obsq
    from pydartdiags.matplots import matplots as mp








.. GENERATED FROM PYTHON SOURCE LINES 17-21

Chose an obs_seq file to read.
In this example, we are using a small obs_seq file "obs_seq.final.1000"
that comes with the pyDARTdiags package 
in the data directory, so we ``import os`` to get the path to the file.

.. GENERATED FROM PYTHON SOURCE LINES 21-25

.. code-block:: Python

    import os
    data_dir = os.path.join(os.getcwd(), "../..", "data")
    data_file = os.path.join(data_dir, "obs_seq.final.1000")








.. GENERATED FROM PYTHON SOURCE LINES 26-27

Read the obs_seq file into an obs_seq object.

.. GENERATED FROM PYTHON SOURCE LINES 27-29

.. code-block:: Python

    obs_seq = obsq.obs_sequence(data_file)








.. GENERATED FROM PYTHON SOURCE LINES 30-33

Chose an observation type.
The observation types are stored in the 'type' column.
To see which observation types are in the dataframe, use the unique method:

.. GENERATED FROM PYTHON SOURCE LINES 33-35

.. code-block:: Python

    obs_seq.df['type'].unique()





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    array(['ACARS_TEMPERATURE', 'ACARS_U_WIND_COMPONENT',
           'ACARS_V_WIND_COMPONENT', 'AIRCRAFT_TEMPERATURE',
           'AIRCRAFT_U_WIND_COMPONENT', 'AIRCRAFT_V_WIND_COMPONENT'],
          dtype=object)



.. GENERATED FROM PYTHON SOURCE LINES 36-38

For this example, we are going to look at the rank histogram for 
ACARS_TEMPERATURE observations.

.. GENERATED FROM PYTHON SOURCE LINES 38-44

.. code-block:: Python

    type = 'ACARS_TEMPERATURE'
    hPalevels = [0.0, 100.0,  150.0, 200.0, 250.0, 300.0, 400.0, 500.0, 700, 850, 925, 1000]  # hPa
    levels = [i * 100 for i in hPalevels]

    fig = mp.plot_profile(obs_seq, levels, type, bias=True, rmse=True, totalspread=True)




.. image-sg:: /examples/03_diagnostics/images/sphx_glr_plot_profiles_001.png
   :alt: ACARS_TEMPERATURE
   :srcset: /examples/03_diagnostics/images/sphx_glr_plot_profiles_001.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 45-46

To plot only the bias, set rmse=False and totalspread=False.

.. GENERATED FROM PYTHON SOURCE LINES 46-46

.. code-block:: Python

    fig = mp.plot_profile(obs_seq, levels, type, bias=True, rmse=False, totalspread=False)


.. image-sg:: /examples/03_diagnostics/images/sphx_glr_plot_profiles_002.png
   :alt: ACARS_TEMPERATURE
   :srcset: /examples/03_diagnostics/images/sphx_glr_plot_profiles_002.png
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.556 seconds)


.. _sphx_glr_download_examples_03_diagnostics_plot_profiles.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_profiles.ipynb <plot_profiles.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_profiles.py <plot_profiles.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_profiles.zip <plot_profiles.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
