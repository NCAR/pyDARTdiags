
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/plot_qc_hover.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_plot_qc_hover.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_plot_qc_hover.py:


Geographinc Plot of Observaions to look at QC
==============================================

This example demonstrates how to read and observation sequence
file, and plot the observations on a map, with the color
indicating the QC value.

.. GENERATED FROM PYTHON SOURCE LINES 15-16

Import the modules

.. GENERATED FROM PYTHON SOURCE LINES 16-23

.. code-block:: Python

    import os
    import plotly.express as px
    import pydartdiags.obs_sequence.obs_sequence as obsq

    # sphinx_gallery_thumbnail_path = '_static/geo_thumb.png'









.. GENERATED FROM PYTHON SOURCE LINES 24-28

Read the obs_seq file into an obs_seq object.
In this example, we use a small obs_seq file "obs_seq.final.ascii.small"
that comes with the pyDARTdiags package 
in the data directory, so we use ``os`` to get the path to the file

.. GENERATED FROM PYTHON SOURCE LINES 28-34

.. code-block:: Python

    data_dir = os.path.join(os.getcwd(), "..", "data")
    data_file = os.path.join(data_dir, "obs_seq.final.ascii.small")

    obs_seq = obsq.obs_sequence(data_file)









.. GENERATED FROM PYTHON SOURCE LINES 35-36

Take a look at which columns are in the dataframe

.. GENERATED FROM PYTHON SOURCE LINES 36-38

.. code-block:: Python

    obs_seq.df.columns





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    Index(['obs_num', 'observation', 'prior_ensemble_mean',
           'prior_ensemble_spread', 'prior_ensemble_member_1',
           'prior_ensemble_member_2', 'prior_ensemble_member_3',
           'prior_ensemble_member_4', 'prior_ensemble_member_5',
           'prior_ensemble_member_6', 'prior_ensemble_member_7',
           'prior_ensemble_member_8', 'prior_ensemble_member_9',
           'prior_ensemble_member_10', 'prior_ensemble_member_11',
           'prior_ensemble_member_12', 'prior_ensemble_member_13',
           'prior_ensemble_member_14', 'prior_ensemble_member_15',
           'prior_ensemble_member_16', 'prior_ensemble_member_17',
           'prior_ensemble_member_18', 'prior_ensemble_member_19',
           'prior_ensemble_member_20', 'prior_ensemble_member_21',
           'prior_ensemble_member_22', 'prior_ensemble_member_23',
           'prior_ensemble_member_24', 'prior_ensemble_member_25',
           'prior_ensemble_member_26', 'prior_ensemble_member_27',
           'prior_ensemble_member_28', 'prior_ensemble_member_29',
           'prior_ensemble_member_30', 'prior_ensemble_member_31',
           'prior_ensemble_member_32', 'prior_ensemble_member_33',
           'prior_ensemble_member_34', 'prior_ensemble_member_35',
           'prior_ensemble_member_36', 'prior_ensemble_member_37',
           'prior_ensemble_member_38', 'prior_ensemble_member_39',
           'prior_ensemble_member_40', 'prior_ensemble_member_41',
           'prior_ensemble_member_42', 'prior_ensemble_member_43',
           'prior_ensemble_member_44', 'prior_ensemble_member_45',
           'prior_ensemble_member_46', 'prior_ensemble_member_47',
           'prior_ensemble_member_48', 'prior_ensemble_member_49',
           'prior_ensemble_member_50', 'prior_ensemble_member_51',
           'prior_ensemble_member_52', 'prior_ensemble_member_53',
           'prior_ensemble_member_54', 'prior_ensemble_member_55',
           'prior_ensemble_member_56', 'prior_ensemble_member_57',
           'prior_ensemble_member_58', 'prior_ensemble_member_59',
           'prior_ensemble_member_60', 'prior_ensemble_member_61',
           'prior_ensemble_member_62', 'prior_ensemble_member_63',
           'prior_ensemble_member_64', 'prior_ensemble_member_65',
           'prior_ensemble_member_66', 'prior_ensemble_member_67',
           'prior_ensemble_member_68', 'prior_ensemble_member_69',
           'prior_ensemble_member_70', 'prior_ensemble_member_71',
           'prior_ensemble_member_72', 'prior_ensemble_member_73',
           'prior_ensemble_member_74', 'prior_ensemble_member_75',
           'prior_ensemble_member_76', 'prior_ensemble_member_77',
           'prior_ensemble_member_78', 'prior_ensemble_member_79',
           'prior_ensemble_member_80', 'Data_QC', 'DART_quality_control',
           'linked_list', 'longitude', 'latitude', 'vertical', 'vert_unit', 'type',
           'metadata', 'external_FO', 'seconds', 'days', 'time', 'obs_err_var'],
          dtype='object')



.. GENERATED FROM PYTHON SOURCE LINES 39-44

Plot the observations on a map.
In this case, the colors of the points
will indicate the DART quality control value
and the hover data will show the observation number,
the observation value, the type of observation, and the QC value

.. GENERATED FROM PYTHON SOURCE LINES 44-62

.. code-block:: Python


    fig = px.scatter_geo(
        obs_seq.df,
        lat='latitude',
        lon='longitude',
        color='DART_quality_control',
        hover_data={'DART_quality_control':True,
                    'type': True,
                    'observation': True,
                    'obs_num': True
        },
        title='Geographic Plot of Latitude and Longitude'
    )

    fig.update_layout(
        width=950,  # Set the width of the plot
    )
    fig





.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
            <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.0.min.js"></script>                <div id="fc9f314d-9aa8-4a09-8c9c-1e5d93635edb" class="plotly-graph-div" style="height:525px; width:950px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("fc9f314d-9aa8-4a09-8c9c-1e5d93635edb")) {                    Plotly.newPlot(                        "fc9f314d-9aa8-4a09-8c9c-1e5d93635edb",                        [{"customdata":[[0.0,"ACARS_TEMPERATURE",230.16,"1"],[0.0,"ACARS_U_WIND_COMPONENT",18.4,"2"],[0.0,"ACARS_V_WIND_COMPONENT",1.6,"3"],[0.0,"ACARS_TEMPERATURE",264.16,"4"],[0.0,"ACARS_U_WIND_COMPONENT",11.6,"5"],[0.0,"ACARS_V_WIND_COMPONENT",12.4,"6"],[0.0,"AIRCRAFT_TEMPERATURE",232.76,"7"],[0.0,"AIRCRAFT_U_WIND_COMPONENT",16.7,"8"],[0.0,"AIRCRAFT_V_WIND_COMPONENT",3.2,"9"],[6.0,"ACARS_TEMPERATURE",299.46,"10"]],"geo":"geo","hovertemplate":"latitude=%{lat}\u003cbr\u003elongitude=%{lon}\u003cbr\u003eDART_quality_control=%{marker.color}\u003cbr\u003etype=%{customdata[1]}\u003cbr\u003eobservation=%{customdata[2]}\u003cbr\u003eobs_num=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","lat":{"dtype":"f8","bdata":"4XoUrkcBREDhehSuRwFEQOF6FK5HAURAPQrXo3ANQUA9CtejcA1BQD0K16NwDUFAAAAAAACQSUAAAAAAAJBJQAAAAAAAkElA9Shcj8JVMkA="},"legendgroup":"","lon":{"dtype":"f8","bdata":"j8L1KFwncUCPwvUoXCdxQI\u002fC9ShcJ3FAa7x0kxhUbkBrvHSTGFRuQGu8dJMYVG5AR3L5D+mXIkBHcvkP6ZciQEdy+Q\u002fplyJA30+Nl25wckA="},"marker":{"color":{"dtype":"f8","bdata":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGEA="},"coloraxis":"coloraxis","symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"geo":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"center":{}},"coloraxis":{"colorbar":{"title":{"text":"DART_quality_control"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"title":{"text":"Geographic Plot of Latitude and Longitude"},"width":950},                        {"responsive": true}                    )                };            </script>        </div>
    </div>
    <br />
    <br />


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.249 seconds)


.. _sphx_glr_download_examples_plot_qc_hover.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_qc_hover.ipynb <plot_qc_hover.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_qc_hover.py <plot_qc_hover.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_qc_hover.zip <plot_qc_hover.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
